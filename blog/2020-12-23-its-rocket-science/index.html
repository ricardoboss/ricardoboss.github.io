<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>It&#x27;s rocket science | Ricardo Boss</title>
<style>body,html{margin:0;padding:0}body{background:#222;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;font-size:.9rem;letter-spacing:.02em;line-height:1.5}a,body{font-weight:400}a{color:#32aa66;text-decoration:underline;text-decoration-color:currentColor;text-decoration-style:dotted;text-decoration-thickness:.01em;text-underline-offset:.15em}a:hover{text-decoration-style:solid}hr{border:0;border-top:1px solid #404040;margin:1.5em 0}pre{background:#151515;border-radius:1em;font-size:.9em;line-height:1.5;overflow-x:auto;padding:1em}::-webkit-scrollbar{height:.5em;width:.5em}::-webkit-scrollbar-track{background:#222}::-webkit-scrollbar-thumb{background:#3c3c3c;border-radius:5px}</style>
<style>.fade-down-enter-active[data-v-45459ebe],.fade-down-leave-active[data-v-45459ebe]{transition:all .3s ease-in-out}.fade-down-enter-from[data-v-45459ebe],.fade-down-leave-to[data-v-45459ebe]{opacity:0;transform:translateY(1em) scale(.5)}</style>
<style>body[data-v-dd509ce1],html[data-v-dd509ce1]{margin:0;padding:0}body[data-v-dd509ce1]{background:#222;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;font-size:.9rem;letter-spacing:.02em;line-height:1.5}a[data-v-dd509ce1],body[data-v-dd509ce1]{font-weight:400}a[data-v-dd509ce1]{color:#32aa66;text-decoration:underline;text-decoration-color:currentColor;text-decoration-style:dotted;text-decoration-thickness:.01em;text-underline-offset:.15em}a[data-v-dd509ce1]:hover{text-decoration-style:solid}hr[data-v-dd509ce1]{border:0;border-top:1px solid #404040;margin:1.5em 0}pre[data-v-dd509ce1]{background:#151515;border-radius:1em;font-size:.9em;line-height:1.5;overflow-x:auto;padding:1em}[data-v-dd509ce1]::-webkit-scrollbar{height:.5em;width:.5em}[data-v-dd509ce1]::-webkit-scrollbar-track{background:#222}[data-v-dd509ce1]::-webkit-scrollbar-thumb{background:#3c3c3c;border-radius:5px}aside[data-v-dd509ce1]{padding:1em}#sticky-wrapper[data-v-dd509ce1]{align-items:center;display:flex;flex-direction:column;gap:2em;position:sticky;top:1em}#picture[data-v-dd509ce1]{border:2px solid #32aa66;border-radius:50%;height:auto;max-width:90%;min-width:100px;width:40dvh}#info[data-v-dd509ce1]{align-items:center;display:flex;flex-direction:column;gap:.25em}#info[data-v-dd509ce1] :nth-child(2){font-size:2em}#info[data-v-dd509ce1] :nth-child(4){font-size:1.3em}</style>
<style>body[data-v-c0f255a7],html[data-v-c0f255a7]{margin:0;padding:0}body[data-v-c0f255a7]{background:#222;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;font-size:.9rem;letter-spacing:.02em;line-height:1.5}a[data-v-c0f255a7],body[data-v-c0f255a7]{font-weight:400}a[data-v-c0f255a7]{color:#32aa66;text-decoration:underline;text-decoration-color:currentColor;text-decoration-style:dotted;text-decoration-thickness:.01em;text-underline-offset:.15em}a[data-v-c0f255a7]:hover{text-decoration-style:solid}hr[data-v-c0f255a7]{border:0;border-top:1px solid #404040;margin:1.5em 0}pre[data-v-c0f255a7]{background:#151515;border-radius:1em;font-size:.9em;line-height:1.5;overflow-x:auto;padding:1em}[data-v-c0f255a7]::-webkit-scrollbar{height:.5em;width:.5em}[data-v-c0f255a7]::-webkit-scrollbar-track{background:#222}[data-v-c0f255a7]::-webkit-scrollbar-thumb{background:#3c3c3c;border-radius:5px}nav[data-v-c0f255a7]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end;padding:1rem 1rem 0 0}nav[data-v-c0f255a7]>*{border-radius:.5rem;margin-left:-.5rem;padding:.5rem 1rem;text-decoration:none;transition:background .1s ease-out;white-space:nowrap}nav>.router-link-active[data-v-c0f255a7]{background:#32aa66!important;color:#222}nav[data-v-c0f255a7]>:hover{background:rgba(50,170,102,.15)}</style>
<style>footer[data-v-649bd932]{align-items:center;display:flex;height:5dvh;justify-content:center;margin:4em 0;opacity:.5}</style>
<style>#default-layout{display:grid;grid-template:"navbar" auto "content" minmax(100dvh,1fr) "footer" auto/1fr;margin:0 auto;max-width:100%;width:100%}@media (min-width:800px){#default-layout{grid-template:"sidepanel navbar " auto "sidepanel content" minmax(100dvh,1fr) "sidepanel footer" auto/300px 1fr;max-width:1000px}#default-layout #sidepanel{display:block}}@media (min-width:1200px){#default-layout{max-width:1200px}}@media (min-width:1600px){#default-layout{max-width:1600px}}#sidepanel{display:none;grid-area:sidepanel}#navbar{grid-area:navbar}#content{grid-area:content;min-width:0;padding-left:1em;padding-right:1em}#footer{grid-area:footer}.page-enter-active,.page-leave-active{transition:all .15s}.page-enter-from,.page-leave-to{opacity:0;transform:translateX(.5em)}</style>
<style>#title[data-v-ccc5e326]{font-size:3em;font-weight:300;margin-bottom:.25em;margin-top:.5em}#date[data-v-ccc5e326]{font-size:.8em;opacity:.5}#article-content[data-v-ccc5e326]{font-size:1.15em;font-weight:300;letter-spacing:.03em;line-height:1.75}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<link rel="stylesheet" href="/_nuxt/entry.BDAgUsrc.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/2020-12-23-its-rocket-science/_payload.json?d98ae490-02ea-4e4c-b891-af40518c8dc6">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DKaxhBvk.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C9psdy-1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/wambfis8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DmG9mecx.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CKRLl0bj.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CMSkD69t.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/LgJ7YXTV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C56JCEck.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BOIUtnxD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CLapJBRi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BPzZIf0f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BTPT5OLV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CIpk6JmJ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/dzewhRHY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/50Sn89fl.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bb41ksTz.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CG5la2Bb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D9YwlOv_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CDoRyU-W.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dyn45_j9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BKAxIGRO.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BpSFjA2f.js">
<link rel="prefetch" as="image" type="image/png" href="/_nuxt/ricardo-boss-2023.square.min.HpIOziE9.png">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ds4n0kiJ.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/BzlHnwqM.js">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="me" href="https://phpc.social/@ricardoboss">
<meta property="og:title" content="It's rocket science">
<meta name="description" content="It's simply rocket science, can't be that hard, _right_?">
<meta property="og:description" content="It's simply rocket science, can't be that hard, _right_?">
<script type="module" src="/_nuxt/DKaxhBvk.js" crossorigin></script></head><body><div id="__nuxt"><div id="default-layout"><aside id="sidepanel" data-v-dd509ce1><div id="sticky-wrapper" data-v-dd509ce1><img alt="Ricardo Boss 20231" src="/_nuxt/ricardo-boss-2023.square.min.HpIOziE9.png" id="picture" data-v-dd509ce1><div id="info" data-v-dd509ce1><span data-v-dd509ce1>Hi, I&#39;m</span><span data-v-dd509ce1>Ricardo Boss</span><span data-v-dd509ce1>a</span><span data-v-dd509ce1 data-v-45459ebe>Software Developer</span></div></div></aside><nav id="navbar" data-v-c0f255a7><a href="/blog" class="" data-v-c0f255a7>Blog</a><a href="/curriculum-vitae" class="" data-v-c0f255a7>Curriculum Vitae</a><a href="/projects" class="" data-v-c0f255a7>Projects</a><a href="/portfolio" class="" data-v-c0f255a7>Portfolio</a><a href="/uses" class="" data-v-c0f255a7>Uses</a><a href="/contact" class="" data-v-c0f255a7>Contact</a></nav><div id="content"><main data-v-ccc5e326><!--[--><a href="/blog" class="" data-v-ccc5e326>« Back to overview</a><article data-v-ccc5e326><h1 id="title" data-v-ccc5e326>It&#39;s rocket science</h1><div id="date" data-v-ccc5e326> Created at 12/23/2020</div><div id="article-content" data-v-ccc5e326><p><!--[-->A while ago, I discovered this fun little browser game called <a href="https://orbity.io/" rel="nofollow"><!--[-->Orbity<!--]--></a>.
In this game, you control a small rocket, and your goal is to explore the universe and earn achievements.
Pretty simple stuff.<!--]--></p><p><!--[-->Now as a programmer, I was interested in how something like this could be programmed.
They seem to have implemented some kind of custom Javascript engine for this game.
Anyway, the point is: I wanted to create my own copy of this game to explore the challenges the devs over at 2Dio Studio have solved.<!--]--></p><h2 id="humble-beginnings"><a href="#humble-beginnings"><!--[-->Humble Beginnings<!--]--></a></h2><p><!--[-->To start things off, I created a new Vue.js project.<!--]--></p><p><!--[--><em><!--[-->Wait, isn&#39;t Vue.js absolutely overkill for this small project?<!--]--></em><!--]--></p><p><!--[-->Yes, dear reader, using Vue.js (at least in this instance) may be a bit overkill.
But I got to simple reasons why I used it anyway:<!--]--></p><ol><!--[--><li><!--[-->I found a library which lets me control a canvas using the sweet reactive properties<!--]--></li><li><!--[-->I am lazy and didn&#39;t want to start from scratch<!--]--></li><!--]--></ol><p><!--[-->The library I wanted to use is called <a href="https://konvajs.org/" rel="nofollow"><!--[-->Konva<!--]--></a>.
It provides a high-level API for creating animated canvases while using object-oriented programming.
Konva itself has a <a href="https://konvajs.org/docs/vue/index.html" rel="nofollow"><!--[-->vue plugin<!--]--></a> (also one for React, if you&#39;re into that kind of stuff).<!--]--></p><h2 id="building-a-rocket"><a href="#building-a-rocket"><!--[-->Building a rocket<!--]--></a></h2><p><!--[-->After project initialization, I began creating a basic &quot;Game&quot; component, which just holds the canvas:<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">template</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E1E4E8">  &lt;</span><span style="--shiki-default:#85E89D">v-stage</span><span style="--shiki-default:#B392F0"> id</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;main_stage&quot;</span><span style="--shiki-default:#B392F0"> ref</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;main_stage&quot;</span><span style="--shiki-default:#E1E4E8"> :</span><span style="--shiki-default:#B392F0">config</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">configKonva</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">    &lt;</span><span style="--shiki-default:#85E89D">v-layer</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8">      &lt;</span><span style="--shiki-default:#85E89D">v-circle</span><span style="--shiki-default:#E1E4E8"> :</span><span style="--shiki-default:#B392F0">config</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">planetConfig</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">&gt;&lt;/</span><span style="--shiki-default:#85E89D">v-circle</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">    &lt;/</span><span style="--shiki-default:#85E89D">v-layer</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">    &lt;</span><span style="--shiki-default:#85E89D">v-layer</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">      &lt;</span><span style="--shiki-default:#85E89D">v-arrow</span><span style="--shiki-default:#E1E4E8"> :</span><span style="--shiki-default:#B392F0">config</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">rocketConfig</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">&gt;&lt;/</span><span style="--shiki-default:#85E89D">v-arrow</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">    &lt;/</span><span style="--shiki-default:#85E89D">v-layer</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">  &lt;/</span><span style="--shiki-default:#85E89D">v-stage</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">template</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->As you can see, I also included two layers:
the first layer contains a circle, which is used to represent a planet.
The second layer is used for the rocket which will be controlled by the player.
Additionally, the &quot;v-stage&quot; element (which is the root element for Konvas canvas wrapper) has its own config, and a handler for the &quot;resize&quot; event attached.
More on that later.<!--]--></p><p><!--[-->To display some simple shapes, I used the <code class=""><!--[-->config<!--]--></code> attribute of Konvas elements:<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> degToRad</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> Math.</span><span style="--shiki-default:#79B8FF">PI</span><span style="--shiki-default:#F97583"> /</span><span style="--shiki-default:#79B8FF"> 180
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> bigG</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#79B8FF"> 6.6742
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> planetRadius</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#79B8FF"> 75
</span></span><span class="line" line="6"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> planetMass</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#79B8FF"> 10
</span></span><span class="line" line="7"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> rocketRadius</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#79B8FF"> 5
</span></span><span class="line" line="8"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> rocketMass</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#79B8FF"> 0.1
</span></span><span class="line" line="9"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> launchSpeed</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#79B8FF"> 6
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#F97583">export</span><span style="--shiki-default:#F97583"> default</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="12"><span style="--shiki-default:#E1E4E8">  computed: {
</span></span><span class="line" line="13"><span style="--shiki-default:#B392F0">    configKonva</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="14"><span style="--shiki-default:#F97583">      return</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">        width: window.innerWidth,
</span></span><span class="line" line="16"><span style="--shiki-default:#E1E4E8">        height: window.innerHeight,
</span></span><span class="line" line="17"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="18"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="19"><span emptylineplaceholder="true">
</span></span><span class="line" line="20"><span style="--shiki-default:#B392F0">    planetConfig</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="21"><span style="--shiki-default:#F97583">      return</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="22"><span style="--shiki-default:#E1E4E8">        x: </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.configKonva.width </span><span style="--shiki-default:#F97583">/</span><span style="--shiki-default:#79B8FF"> 2</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="23"><span style="--shiki-default:#E1E4E8">        y: </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.configKonva.height </span><span style="--shiki-default:#F97583">/</span><span style="--shiki-default:#79B8FF"> 2</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="24"><span style="--shiki-default:#E1E4E8">        fill: </span><span style="--shiki-default:#9ECBFF">&quot;blue&quot;</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="25"><span style="--shiki-default:#E1E4E8">        radius: planetRadius,
</span></span><span class="line" line="26"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="27"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="28"><span emptylineplaceholder="true">
</span></span><span class="line" line="29"><span style="--shiki-default:#B392F0">    rocketConfig</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="30"><span style="--shiki-default:#F97583">      return</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="31"><span style="--shiki-default:#E1E4E8">        points: [</span><span style="--shiki-default:#79B8FF">0</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">0</span><span style="--shiki-default:#E1E4E8">],
</span></span><span class="line" line="32"><span style="--shiki-default:#E1E4E8">        x: </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.x,
</span></span><span class="line" line="33"><span style="--shiki-default:#E1E4E8">        y: </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.y,
</span></span><span class="line" line="34"><span style="--shiki-default:#E1E4E8">        fill: </span><span style="--shiki-default:#9ECBFF">&quot;green&quot;</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="35"><span style="--shiki-default:#E1E4E8">        rotation: </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.phi,
</span></span><span class="line" line="36"><span style="--shiki-default:#E1E4E8">        pointerWidth: (</span><span style="--shiki-default:#79B8FF">4</span><span style="--shiki-default:#F97583"> *</span><span style="--shiki-default:#E1E4E8"> rocketRadius) </span><span style="--shiki-default:#F97583">/</span><span style="--shiki-default:#79B8FF"> 5</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="37"><span style="--shiki-default:#E1E4E8">        pointerLength: rocketRadius,
</span></span><span class="line" line="38"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="39"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="40"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="41"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="42"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->Breaking everything down:<!--]--></p><ul><!--[--><li><!--[-->the <code class=""><!--[-->const<!--]--></code> definitions at the top of the script will also be referenced in later code snippets<!--]--></li><li><!--[--><code class=""><!--[-->configKonva<!--]--></code> just tells the canvas which width and height it should have.
In this case, it should fill the whole window.<!--]--></li><li><!--[--><code class=""><!--[-->planetConfig<!--]--></code> tells our circle where it should appear (in the middle of the canvas) and some other stylistic things.<!--]--></li><li><!--[--><code class=""><!--[-->rocketConfig<!--]--></code> draws an arrow head at the rockets position and rotation.<!--]--></li><!--]--></ul><p><!--[-->So far so good.
Next, I introduced a &quot;game tick&quot;, which is invoked every 20ms (could also be less often):<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">export</span><span style="--shiki-default:#F97583"> default</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="3"><span style="--shiki-default:#B392F0">  destroyed</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0">    clearInterval</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.gameTickInterval)
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#B392F0">  mounted</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="8"><span style="--shiki-default:#79B8FF">    this</span><span style="--shiki-default:#E1E4E8">.gameTickInterval </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#B392F0"> setInterval</span><span style="--shiki-default:#E1E4E8">(() </span><span style="--shiki-default:#F97583">=&gt;</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.</span><span style="--shiki-default:#B392F0">gameTick</span><span style="--shiki-default:#E1E4E8">(), </span><span style="--shiki-default:#79B8FF">20</span><span style="--shiki-default:#E1E4E8">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#B392F0">  data</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="12"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="13"><span style="--shiki-default:#E1E4E8">      gameTickInterval: </span><span style="--shiki-default:#F97583">-</span><span style="--shiki-default:#79B8FF">1</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="14"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-default:#E1E4E8">  methods: {
</span></span><span class="line" line="18"><span style="--shiki-default:#B392F0">    gameTick</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="19"><span style="--shiki-default:#6A737D">      // executed once every 10ms
</span></span><span class="line" line="20"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="21"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="22"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="23"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->The whole game logic will happen in this <code class=""><!--[-->gameTick<!--]--></code> method.
The first thing I wanted to replicate was the rocket sitting on the planets surface, waiting to get launched into space.
To achieve this, I added a variable to my components data called <code class=""><!--[-->rocketLanded<!--]--></code> with a default value of <code class=""><!--[-->true<!--]--></code>:<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">export</span><span style="--shiki-default:#F97583"> default</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="3"><span style="--shiki-default:#B392F0">  data</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">      rocketLanded: </span><span style="--shiki-default:#79B8FF">true</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->Then, in the <code class=""><!--[-->gameTick<!--]--></code>, I can check if the rocket is landed on the planet and update the rockets position according to the planets rotation:<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">export</span><span style="--shiki-default:#F97583"> default</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">  methods: {
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0">    gameTick</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="5"><span style="--shiki-default:#79B8FF">      this</span><span style="--shiki-default:#E1E4E8">.planetRotation </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.planetRotation </span><span style="--shiki-default:#F97583">+</span><span style="--shiki-default:#79B8FF"> 0.1</span><span style="--shiki-default:#E1E4E8">) </span><span style="--shiki-default:#F97583">%</span><span style="--shiki-default:#79B8FF"> 360
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#F97583">      if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketLanded) {
</span></span><span class="line" line="8"><span style="--shiki-default:#79B8FF">        this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.x </span><span style="--shiki-default:#F97583">=
</span></span><span class="line" line="9"><span style="--shiki-default:#79B8FF">          this</span><span style="--shiki-default:#E1E4E8">.planetConfig.x </span><span style="--shiki-default:#F97583">+
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">          Math.</span><span style="--shiki-default:#B392F0">cos</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.planetRotation </span><span style="--shiki-default:#F97583">*</span><span style="--shiki-default:#E1E4E8"> degToRad) </span><span style="--shiki-default:#F97583">*
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">            (planetRadius </span><span style="--shiki-default:#F97583">+</span><span style="--shiki-default:#E1E4E8"> rocketRadius </span><span style="--shiki-default:#F97583">/</span><span style="--shiki-default:#79B8FF"> 2</span><span style="--shiki-default:#E1E4E8">)
</span></span><span class="line" line="12"><span style="--shiki-default:#79B8FF">        this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.y </span><span style="--shiki-default:#F97583">=
</span></span><span class="line" line="13"><span style="--shiki-default:#79B8FF">          this</span><span style="--shiki-default:#E1E4E8">.planetConfig.y </span><span style="--shiki-default:#F97583">+
</span></span><span class="line" line="14"><span style="--shiki-default:#E1E4E8">          Math.</span><span style="--shiki-default:#B392F0">sin</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.planetRotation </span><span style="--shiki-default:#F97583">*</span><span style="--shiki-default:#E1E4E8"> degToRad) </span><span style="--shiki-default:#F97583">*
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">            (planetRadius </span><span style="--shiki-default:#F97583">+</span><span style="--shiki-default:#E1E4E8"> rocketRadius </span><span style="--shiki-default:#F97583">/</span><span style="--shiki-default:#79B8FF"> 2</span><span style="--shiki-default:#E1E4E8">)
</span></span><span class="line" line="16"><span style="--shiki-default:#79B8FF">        this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.phi </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.planetRotation
</span></span><span class="line" line="17"><span style="--shiki-default:#E1E4E8">      } </span><span style="--shiki-default:#F97583">else</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="18"><span style="--shiki-default:#79B8FF">        this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.x </span><span style="--shiki-default:#F97583">+=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.rocketVelocity.x
</span></span><span class="line" line="19"><span style="--shiki-default:#79B8FF">        this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.y </span><span style="--shiki-default:#F97583">+=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.rocketVelocity.y
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span style="--shiki-default:#79B8FF">        this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.phi </span><span style="--shiki-default:#F97583">+=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.rocketVelocity.phi
</span></span><span class="line" line="22"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="23"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="24"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="25"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="26"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->At first, the planet is rotated 0.1° every game tick. Easy.<!--]--></p><p><!--[-->The position calculation when the rocket is landed might look a bit intimidating at first, but don&#39;t worry.
I shall explain what kind of witchcraft is going on here.
Let&#39;s look at the formula in detail:<!--]--></p><!--[--><pre class="" style=""><!--[--><code>this.rocketPosition.x = this.planetConfig.x + Math.cos(this.planetRotation * degToRad) * (planetRadius + rocketRadius / 2);
^                       ^                     ^                            ^             ^
1                       5                     3                            2             4
</code><!--]--></pre><!--]--><ol><!--[--><li><!--[-->We want to set the x position of the rocket.<!--]--></li><li><!--[--><code class=""><!--[-->this.planetRotation<!--]--></code> is saved in degrees, so in this step, we convert them to radians.<!--]--></li><li><!--[--><code class=""><!--[-->Math.cos<!--]--></code> gives us the coordinate on the x-axis for the given angle (value between -1 and 1).<!--]--></li><li><!--[-->Since we want the position on the surface of the planet, we need to add the radii of the planet and rocket to the position offset.<!--]--></li><li><!--[-->Lastly, we add the planets x coordinate<!--]--></li><!--]--></ol><p><!--[-->Almost the same formula works for the y coordinate: just swap out every <code class=""><!--[-->x<!--]--></code> with <code class=""><!--[-->y<!--]--></code> and the <code class=""><!--[-->Math.cos<!--]--></code> with <code class=""><!--[-->Math.sin<!--]--></code>, since you want the offset on the y-axis instead of the x-axis.<!--]--></p><p><!--[-->A quick test confirms that the rocket now sits on the planet and rotates with it.<!--]--></p><h2 id="liftoff"><a href="#liftoff"><!--[-->Liftoff!<!--]--></a></h2><p><!--[-->The next step was to implement some kind of user input, so the rocket can lift off the surface and be controllable.<!--]--></p><p><!--[-->To achieve this, I attached event handlers for <code class=""><!--[-->window.onkeydown<!--]--></code> and <code class=""><!--[-->window.onkeyup<!--]--></code>:<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">export</span><span style="--shiki-default:#F97583"> default</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="3"><span style="--shiki-default:#B392F0">  created</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8">    window.</span><span style="--shiki-default:#B392F0">addEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;resize&quot;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.resizeCanvas)
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">    window.</span><span style="--shiki-default:#B392F0">addEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;keydown&quot;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.keydown)
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">    window.</span><span style="--shiki-default:#B392F0">addEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;keyup&quot;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.keyup)
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#B392F0">  destroyed</span><span style="--shiki-default:#E1E4E8">() {
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">    window.</span><span style="--shiki-default:#B392F0">removeEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;resize&quot;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.resizeCanvas)
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">    window.</span><span style="--shiki-default:#B392F0">removeEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;keydown&quot;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.keydown)
</span></span><span class="line" line="12"><span style="--shiki-default:#E1E4E8">    window.</span><span style="--shiki-default:#B392F0">removeEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;keyup&quot;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.keyup)
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-default:#B392F0">    clearInterval</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.gameTickInterval)
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-default:#E1E4E8">  methods: {
</span></span><span class="line" line="18"><span style="--shiki-default:#B392F0">    keydown</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">e</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="19"><span style="--shiki-default:#F97583">      switch</span><span style="--shiki-default:#E1E4E8"> (e.keyCode) {
</span></span><span class="line" line="20"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 87</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// w
</span></span><span class="line" line="21"><span style="--shiki-default:#F97583">          if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketLanded) {
</span></span><span class="line" line="22"><span style="--shiki-default:#79B8FF">            this</span><span style="--shiki-default:#E1E4E8">.rocketLanded </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> false
</span></span><span class="line" line="23"><span style="--shiki-default:#79B8FF">            this</span><span style="--shiki-default:#E1E4E8">.rocketVelocity.x </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.planetToRocket.x </span><span style="--shiki-default:#F97583">*</span><span style="--shiki-default:#E1E4E8"> launchSpeed
</span></span><span class="line" line="24"><span style="--shiki-default:#79B8FF">            this</span><span style="--shiki-default:#E1E4E8">.rocketVelocity.y </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.planetToRocket.y </span><span style="--shiki-default:#F97583">*</span><span style="--shiki-default:#E1E4E8"> launchSpeed
</span></span><span class="line" line="25"><span style="--shiki-default:#79B8FF">            this</span><span style="--shiki-default:#E1E4E8">.rocketPosition.phi </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> this</span><span style="--shiki-default:#E1E4E8">.planetRotation </span><span style="--shiki-default:#F97583">+</span><span style="--shiki-default:#79B8FF"> 90
</span></span><span class="line" line="26"><span style="--shiki-default:#E1E4E8">          } </span><span style="--shiki-default:#F97583">else</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="27"><span style="--shiki-default:#79B8FF">            this</span><span style="--shiki-default:#E1E4E8">.boost </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> true
</span></span><span class="line" line="28"><span style="--shiki-default:#E1E4E8">          }
</span></span><span class="line" line="29"><span style="--shiki-default:#F97583">          break
</span></span><span class="line" line="30"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 65</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// a
</span></span><span class="line" line="31"><span style="--shiki-default:#F97583">          if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">!</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketLanded) </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rotate </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#F97583"> -</span><span style="--shiki-default:#79B8FF">1
</span></span><span class="line" line="32"><span style="--shiki-default:#F97583">          break
</span></span><span class="line" line="33"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 68</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// d
</span></span><span class="line" line="34"><span style="--shiki-default:#F97583">          if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">!</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketLanded) </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rotate </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> 1
</span></span><span class="line" line="35"><span style="--shiki-default:#F97583">          break
</span></span><span class="line" line="36"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 83</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// s
</span></span><span class="line" line="37"><span style="--shiki-default:#F97583">          if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">!</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketLanded) </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rotate </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> 0
</span></span><span class="line" line="38"><span style="--shiki-default:#F97583">          break
</span></span><span class="line" line="39"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="40"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="41"><span emptylineplaceholder="true">
</span></span><span class="line" line="42"><span style="--shiki-default:#B392F0">    keyup</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">e</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="43"><span style="--shiki-default:#F97583">      switch</span><span style="--shiki-default:#E1E4E8"> (e.keyCode) {
</span></span><span class="line" line="44"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 87</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// w
</span></span><span class="line" line="45"><span style="--shiki-default:#79B8FF">          this</span><span style="--shiki-default:#E1E4E8">.boost </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> false
</span></span><span class="line" line="46"><span style="--shiki-default:#F97583">          break
</span></span><span class="line" line="47"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 65</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// a
</span></span><span class="line" line="48"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 68</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// d
</span></span><span class="line" line="49"><span style="--shiki-default:#F97583">        case</span><span style="--shiki-default:#79B8FF"> 83</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#6A737D">// s
</span></span><span class="line" line="50"><span style="--shiki-default:#F97583">          if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">!</span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rocketLanded) </span><span style="--shiki-default:#79B8FF">this</span><span style="--shiki-default:#E1E4E8">.rotate </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#79B8FF"> null
</span></span><span class="line" line="51"><span style="--shiki-default:#F97583">          break
</span></span><span class="line" line="52"><span style="--shiki-default:#E1E4E8">      }
</span></span><span class="line" line="53"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="54"><span style="--shiki-default:#E1E4E8">  },
</span></span><span class="line" line="55"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="56"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->For the liftoff, I am using a variable called <code class=""><!--[-->this.planetToRocket<!--]--></code>.
This variable contains a vector which originates at the center of the planet and points to the center of the rocket.
This is useful for distance calculation and determining the normal vector of the planet at the location of the rocket <em><!--[-->on the planet<!--]--></em> (basically answering &quot;which way is up?&quot;).<!--]--></p><p><!--[-->The variable <code class=""><!--[-->this.rocketLanded<!--]--></code> indicates that a liftoff is required in order to leave the planet.
&quot;Liftoff&quot; in this case means giving the rocket a velocity in the direction of the normal vector (<code class=""><!--[-->this.planetToRocket<!--]--></code>) with some initial velocity.<!--]--></p><h2 id="future"><a href="#future"><!--[-->Future<!--]--></a></h2><p><!--[-->Initially, I wanted to write a lot more about the details on how the gravity works and energy loss what controls I implemented for the rocket (like tracking the trajectory/reverse).
But in the end I was too distracted playing the game and I just wanted to finish this blog entry.
Maybe I&#39;ll extend this post in the future.<!--]--></p><hr><p><!--[-->And now: go play it yourself and make sure to send me a screenshot of your flight-path (<a href="https://twitter.com/_ricardoboss" rel="nofollow"><!--[-->@_ricardoboss<!--]--></a>):<!--]--></p><p><!--[--><a href="https://rocket-science.ricardoboss.de/" rel="nofollow"><!--[-->rocket-science.ricardoboss.de<!--]--></a><!--]--></p><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div></article><!--]--><a href="/blog" class="" data-v-ccc5e326>« Back to overview</a></main></div><footer id="footer" data-v-649bd932><p data-v-649bd932>© 2024 Ricardo Boss. All rights reserved.</p></footer></div></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/blog/2020-12-23-its-rocket-science/_payload.json?d98ae490-02ea-4e4c-b891-af40518c8dc6">[{"state":1,"once":3,"_errors":4,"serverRendered":7,"path":8,"prerenderedAt":9},["Reactive",2],{},["Set"],["ShallowReactive",5],{"content-query-1ORxyOkSQR":6},null,true,"/blog/2020-12-23-its-rocket-science",1718713622572]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1718713613471,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-dark",preload:["vue","javascript","typescript","bash","markdown","c#","yml","json","xml"],highlighter:"shiki",langs:["js","jsx","json","ts","tsx","vue","css","html","vue","bash","md","mdc","yaml","vue","javascript","typescript","bash","markdown","c#","yml","json","xml"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"d98ae490-02ea-4e4c-b891-af40518c8dc6",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>