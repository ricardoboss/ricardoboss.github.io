<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Progress update for age-of-aincrad.com | Ricardo Boss</title>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="me" href="https://phpc.social/@ricardoboss">
<meta property="og:title" content="Progress update for age-of-aincrad.com">
<meta name="description" content="This is a progress update on my work for the new homepage for age-of-aincrad.com.">
<meta property="og:description" content="This is a progress update on my work for the new homepage for age-of-aincrad.com.">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/2020-12-06-progress-update-for-age-of-aincrad-com/_payload.json">
<style>#title[data-v-ccc5e326]{font-size:3em;font-weight:300;margin-bottom:.25em;margin-top:.5em}#date[data-v-ccc5e326]{font-size:.8em;opacity:.5}#article-content[data-v-ccc5e326]{font-size:1.15em;font-weight:300;letter-spacing:.03em;line-height:1.75}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>body,html{margin:0;padding:0}body{background:#222;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;font-size:.9rem;letter-spacing:.02em;line-height:1.5}a,body{font-weight:400}a{color:#32aa66;text-decoration:underline;text-decoration-color:currentColor;text-decoration-style:dotted;text-decoration-thickness:.01em;text-underline-offset:.15em}a:hover{text-decoration-style:solid}hr{border:0;border-top:1px solid #404040;margin:1.5em 0}pre{background:#151515;border-radius:1em;font-size:.9em;line-height:1.5;overflow-x:auto;padding:1em}::-webkit-scrollbar{height:.5em;width:.5em}::-webkit-scrollbar-track{background:#222}::-webkit-scrollbar-thumb{background:#3c3c3c;border-radius:5px}</style>
<style>.fade-down-enter-active[data-v-45459ebe],.fade-down-leave-active[data-v-45459ebe]{transition:all .3s ease-in-out}.fade-down-enter-from[data-v-45459ebe],.fade-down-leave-to[data-v-45459ebe]{opacity:0;transform:translateY(1em) scale(.5)}</style>
<style>body[data-v-dd509ce1],html[data-v-dd509ce1]{margin:0;padding:0}body[data-v-dd509ce1]{background:#222;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;font-size:.9rem;letter-spacing:.02em;line-height:1.5}a[data-v-dd509ce1],body[data-v-dd509ce1]{font-weight:400}a[data-v-dd509ce1]{color:#32aa66;text-decoration:underline;text-decoration-color:currentColor;text-decoration-style:dotted;text-decoration-thickness:.01em;text-underline-offset:.15em}a[data-v-dd509ce1]:hover{text-decoration-style:solid}hr[data-v-dd509ce1]{border:0;border-top:1px solid #404040;margin:1.5em 0}pre[data-v-dd509ce1]{background:#151515;border-radius:1em;font-size:.9em;line-height:1.5;overflow-x:auto;padding:1em}[data-v-dd509ce1]::-webkit-scrollbar{height:.5em;width:.5em}[data-v-dd509ce1]::-webkit-scrollbar-track{background:#222}[data-v-dd509ce1]::-webkit-scrollbar-thumb{background:#3c3c3c;border-radius:5px}aside[data-v-dd509ce1]{padding:1em}#sticky-wrapper[data-v-dd509ce1]{align-items:center;display:flex;flex-direction:column;gap:2em;position:sticky;top:1em}#picture[data-v-dd509ce1]{border:2px solid #32aa66;border-radius:50%;height:auto;max-width:90%;min-width:100px;width:40dvh}#info[data-v-dd509ce1]{align-items:center;display:flex;flex-direction:column;gap:.25em}#info[data-v-dd509ce1] :nth-child(2){font-size:2em}#info[data-v-dd509ce1] :nth-child(4){font-size:1.3em}</style>
<style>body[data-v-c0f255a7],html[data-v-c0f255a7]{margin:0;padding:0}body[data-v-c0f255a7]{background:#222;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;font-size:.9rem;letter-spacing:.02em;line-height:1.5}a[data-v-c0f255a7],body[data-v-c0f255a7]{font-weight:400}a[data-v-c0f255a7]{color:#32aa66;text-decoration:underline;text-decoration-color:currentColor;text-decoration-style:dotted;text-decoration-thickness:.01em;text-underline-offset:.15em}a[data-v-c0f255a7]:hover{text-decoration-style:solid}hr[data-v-c0f255a7]{border:0;border-top:1px solid #404040;margin:1.5em 0}pre[data-v-c0f255a7]{background:#151515;border-radius:1em;font-size:.9em;line-height:1.5;overflow-x:auto;padding:1em}[data-v-c0f255a7]::-webkit-scrollbar{height:.5em;width:.5em}[data-v-c0f255a7]::-webkit-scrollbar-track{background:#222}[data-v-c0f255a7]::-webkit-scrollbar-thumb{background:#3c3c3c;border-radius:5px}nav[data-v-c0f255a7]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end;padding:1rem 1rem 0 0}nav>*[data-v-c0f255a7]{border-radius:.5rem;margin-left:-.5rem;padding:.5rem 1rem;text-decoration:none;transition:background .1s ease-out;white-space:nowrap}nav>.router-link-active[data-v-c0f255a7]{background:#32aa66!important;color:#222}nav[data-v-c0f255a7]>:hover{background:rgba(50,170,102,.15)}</style>
<style>footer[data-v-322389a2]{align-items:center;display:flex;height:5dvh;justify-content:center;margin:4em 0;opacity:.5}</style>
<style>#default-layout{display:grid;grid-template:"navbar" auto "content" minmax(100dvh,1fr) "footer" auto/1fr;margin:0 auto;max-width:100%;width:100%}@media (min-width:800px){#default-layout{grid-template:"sidepanel navbar " auto "sidepanel content" minmax(100dvh,1fr) "sidepanel footer" auto/300px 1fr;max-width:1000px}#default-layout #sidepanel{display:block}}@media (min-width:1200px){#default-layout{max-width:1200px}}@media (min-width:1600px){#default-layout{max-width:1600px}}#sidepanel{display:none;grid-area:sidepanel}#navbar{grid-area:navbar}#content{grid-area:content;min-width:0;padding-left:1em;padding-right:1em}#footer{grid-area:footer}.page-enter-active,.page-leave-active{transition:all .15s}.page-enter-from,.page-leave-to{opacity:0;transform:translateX(.5em)}</style>
<link rel="stylesheet" href="/_nuxt/entry.291283aa.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.e63e49c6.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.bd5db897.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.6a6a8adc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.76047089.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.660abc9f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.98f14936.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.b0fe9fac.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.13b5cda7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentDoc.c9fff4bd.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentQuery.668d36fe.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.7f33adbf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.7255602f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.a8b4062d.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.26f1290b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.97548f79.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.c9a7d4a1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.127401cb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.95e61feb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.8a6075e3.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.0088db7b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.df041d8e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue.1776db0f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.8f109ef3.js">
<link rel="prefetch" as="image" type="image/png" href="/_nuxt/ricardo-boss-2023.square.min.b80377df.png">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.69a39e89.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.5afe029d.js">
<script type="module" src="/_nuxt/entry.bd5db897.js" crossorigin></script></head>
<body ><div id="__nuxt"><div id="default-layout"><aside id="sidepanel" data-v-dd509ce1><div id="sticky-wrapper" data-v-dd509ce1><img alt="Ricardo Boss 20231" src="/_nuxt/ricardo-boss-2023.square.min.b80377df.png" id="picture" data-v-dd509ce1><div id="info" data-v-dd509ce1><span data-v-dd509ce1>Hi, I&#39;m</span><span data-v-dd509ce1>Ricardo Boss</span><span data-v-dd509ce1>a</span><span data-v-dd509ce1 data-v-45459ebe>Software Developer</span></div></div></aside><nav id="navbar" data-v-c0f255a7><a href="/blog" class="" data-v-c0f255a7>Blog</a><a href="/curriculum-vitae" class="" data-v-c0f255a7>Curriculum Vitae</a><a href="/projects" class="" data-v-c0f255a7>Projects</a><a href="/portfolio" class="" data-v-c0f255a7>Portfolio</a><a href="/uses" class="" data-v-c0f255a7>Uses</a><a href="/contact" class="" data-v-c0f255a7>Contact</a></nav><div id="content"><main data-v-ccc5e326><!--[--><a href="/blog" class="" data-v-ccc5e326>« Back to overview</a><article data-v-ccc5e326><h1 id="title" data-v-ccc5e326>Progress update for age-of-aincrad.com</h1><div id="date" data-v-ccc5e326> Created at 12/6/2020</div><div id="article-content" data-v-ccc5e326><p><!--[-->As the year progresses further, so do I with the new homepage for age-of-aincrad.com.
In my last post, I explained how I came to working on the new website and what the (then) current state was.<!--]--></p><p><!--[-->In this post, I want to let you know what issues I encountered since then and how I solved them.<!--]--></p><h2 id="task-management"><a href="#task-management"><!--[-->Task Management<!--]--></a></h2><p><!--[-->Internally at Team Cardinal (the developers of the Age of Aincrad game), we use Trello and Discord to communicate and organize tasks.
This is also the way Leo (community lead) and Blacky/Katy (the project leads) tell us web developers what they want for the website.<!--]--></p><p><!--[-->Now since I&#39;ve been working on the new website, we have been using GitHub.
As you may know, GitHub has its own issue/task management, including &quot;projects&quot; and milestones and so on.
Personally, I really like to use those systems because it allows you to create intuitive workflows and automate things as much as possible (which in turn minimizes need for manual labor).<!--]--></p><p><!--[-->A problem which could arise when using both systems is that they can become out of sync, meaning the issue on GitHub is closed while a card on Trello remains in &quot;ToDo&quot; (or vice versa).
To mitigate this, we decided to separate the different systems based on who is interested in the information provided by each system.<!--]--></p><p><!--[-->So if the project leads want a new feature or adjust the design, they can open a new Trello card.
We will then open a new (more technically detailed) GitHub issue with a link to this Trello card and work on the issue while discussing everything technical in the GitHub issue.
The Trello card must then be moved according to the state of the issue.<!--]--></p><h2 id="automatic-deployment"><a href="#automatic-deployment"><!--[-->Automatic Deployment<!--]--></a></h2><p><!--[-->Part of the things I wanted for the new website is an automatic deployment system, so we don&#39;t have to manually build or move files around.<!--]--></p><p><!--[-->I set up a workflow with GitHub actions, which simply executes <code class=""><!--[-->npm run build<!--]--></code> after a push event.
This way, we can automatically check if the current codebase is even able to be built.
Afterwards, all available tests are executed using <code class=""><!--[-->npm run test<!--]--></code>.<!--]--></p><p><!--[-->Now we need a way to deploy the latest version.
To achieve this, I installed <a href="https://github.com/olipo186/Git-Auto-Deploy" rel="nofollow"><!--[-->olipo186/Git-Auto-Deploy<!--]--></a> on the deployment server.
Here is the description in the current README.md:<!--]--></p><blockquote><!--[--><p><!--[-->Git-Auto-Deploy consists of a small HTTP server that listens for Webhook requests sent from GitHub, GitLab or Bitbucket servers. This application allows you to continuously and automatically deploy your projects each time you push new commits to your repository.<!--]--></p><!--]--></blockquote><p><!--[-->So it seems to be perfect for the use-case.
The setup was pretty simple:<!--]--></p><ul><!--[--><li><!--[-->create a new subdomain which will be called by GitHub with the webhook events<!--]--></li><li><!--[-->create a reverse proxy to forward the requests to the Git-Auto-Deploy service<!--]--></li><li><!--[-->create a deployment script which builds and deploys the website on the server<!--]--></li><li><!--[-->configure the Git-Auto-Deploy service to only deploy on certain events<!--]--></li><!--]--></ul><p><!--[-->The deployment script was a challenge because I am not very familiar with bash scripting.
In the end I managed to create a pretty stable script which checks the environments <code class=""><!--[-->npm<!--]--></code> and <code class=""><!--[-->node<!--]--></code> versions and uses symlinking for a zero-downtime deployment.
I ran into a problem where the script wouldn&#39;t be executable, because it was missing the <code class=""><!--[-->x<!--]--></code> permission.<!--]--></p><p><!--[--><em><!--[-->EDIT<!--]--></em>: I wanted to make the script publicly available, so <a href="https://gist.github.com/ricardoboss/de05920c5296e851490743d03d1158c8" rel="nofollow"><!--[-->here is a gist of it<!--]--></a>.<!--]--></p><p><!--[-->This could be fixed by changing my git config to respect file modes:<!--]--></p><!--[--><pre class="language-bash shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">$</span><span style="--shiki-default:#9ECBFF"> git</span><span style="--shiki-default:#9ECBFF"> config</span><span style="--shiki-default:#79B8FF"> --global</span><span style="--shiki-default:#9ECBFF"> core.filemode</span><span style="--shiki-default:#79B8FF"> true
</span></span></code><!--]--></pre><!--]--><p><!--[-->Then, I needed to add the <code class=""><!--[-->x<!--]--></code> flag and commit the script:<!--]--></p><!--[--><pre class="language-bash shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">$</span><span style="--shiki-default:#9ECBFF"> chmod</span><span style="--shiki-default:#9ECBFF"> +x</span><span style="--shiki-default:#9ECBFF"> ./bin/deploy.sh
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">$</span><span style="--shiki-default:#9ECBFF"> git</span><span style="--shiki-default:#9ECBFF"> commit</span><span style="--shiki-default:#79B8FF"> -am</span><span style="--shiki-default:#9ECBFF"> &quot;Add +x flag to deploy script&quot;
</span></span></code><!--]--></pre><!--]--><p><!--[-->Afterwards the service happily ran my script with no problems.<!--]--></p><p><!--[-->Next I had to decide on which events would trigger a deployment.
I went for the <code class=""><!--[-->check_suite<!--]--></code> event, which is triggered every time a workflow starts or completes.
Additional filters for branches and the <code class=""><!--[-->success<!--]--></code> state of the <code class=""><!--[-->check_suite<!--]--></code> where added, and the configuration was complete.<!--]--></p><h2 id="conclusion-and-further-development"><a href="#conclusion-and-further-development"><!--[-->Conclusion and further development<!--]--></a></h2><p><!--[-->The next steps in the development of the website will prepare it for it&#39;s initial release (hopefully late January).
This means filling everything with content, fixing open issues, adding required features, testing everything and so on.
There is still a lot to do, but I think we can make it until early next year.<!--]--></p><p><!--[-->Again, I will post a new update here once we have made significant progress.
Thanks for reading!<!--]--></p><style>html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div></article><!--]--><a href="/blog" class="" data-v-ccc5e326>« Back to overview</a></main></div><footer id="footer" data-v-322389a2><p data-v-322389a2>© 2023 Ricardo Boss. All rights reserved.</p></footer></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/blog/2020-12-06-progress-update-for-age-of-aincrad-com/_payload.json">[{"state":1,"_errors":3,"serverRendered":6,"path":7,"prerenderedAt":8},["Reactive",2],{},["Reactive",4],{"content-query-GSmuyUqjdY":5},null,true,"/blog/2020-12-06-progress-update-for-age-of-aincrad-com",1701875813281]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1701875801743,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-dark",preload:["vue","javascript","typescript","bash","markdown","c#","yml","json","xml"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>